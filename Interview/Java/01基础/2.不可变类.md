---
icon: fa-brands fa-java
date: 2025-01-08
category:
  - Java
tag:
  - 必背
---
# 2.什么是 Java 中的不可变类

> [!tip]
>
> **不可变类的定义**

> **不可变类**（Immutable Class）是指实例对象一旦创建，其状态（即属性）就不能被修改的类。**不可变类**的实例在其生命周期内始终保持不变。
<!-- more -->
> [!tip]
>
> **特征**

> 1. 类由final修饰，无法被子类继承
> 2. 没有setter方法，无法修改字段。提供只读的getter方法
> 3. 通过构造函数进行初始化
> 4. 对象一旦创建，属性值就不能改变
> 5. 深拷贝：如果类的字段是引用类型（如数组、集合、其他对象等），应确保字段的值在构造时被复制，而不是直接引用。否则，外部可能通过原始引用来修改对象的内容。
>

> [!tip]
>
> **举个例子**

> `String Integer LocalDate UUID Optional `  

> [!tip]
>
> 不可变类的优缺点

>  **优点：**
>
> 1. **线程安全**：对象状态不可改变，多个线程可以安全共享。
> 2. **安全性**：外部无法修改对象的状态，确保数据一致性。
> 3. **缓存与共享**：可缓存，避免重复创建，提升性能。
> 4. **简化调试**：状态不可变，避免副作用，易于调试。
> 5. **设计简洁**：强制性设计完整对象，避免不一致状态。
>
>  **缺点：**
>
> 1. **性能开销**：频繁修改需要创建新对象，增加内存和垃圾回收负担。
> 2. **代码复杂性**：需要小心实现，特别是包含引用类型字段时。
> 3. **不适用频繁修改**：状态频繁变化的对象不适合使用不可变类。
> 4. **内存占用**：频繁创建新对象可能导致较高的内存使用。
