# 4. 堆

## 4.1 定义

堆（Heap）是 JVM 中用于存储对象实例的内存区域。所有通过 `new` 关键字创建的对象都会分配到堆内存中。

**特点：**

- 线程共享：所有线程都可以访问堆内存中的对象。
- 垃圾回收：堆内存支持垃圾回收，自动回收不再使用的对象。

## 4.2 堆内存溢出

**堆内存溢出**（Heap OutOfMemoryError）通常发生在堆内存中对象过多，超出了容量限制。可以通过指定堆内存大小（如 `-Xmx8m`）来避免溢出。

**诊断工具：**

- **jps 工具**：查看当前 Java 进程。
- **jmap 工具**：查看堆内存占用情况。
- **jconsole 工具**：图形化监控工具，查看堆内存使用情况。
- **jvisualvm 工具**：提供堆内存分析和性能监控功能。